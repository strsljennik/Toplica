
const textEmojiMap = {
  ':)': 'ðŸ˜Š',
  ':(': 'â˜¹ï¸',
  ':D': 'ðŸ˜ƒ',
  'xD': 'ðŸ˜†',
  ':))': 'ðŸ˜',
  ':O': 'ðŸ˜®',
  ';)': 'ðŸ˜‰',
  ':P': 'ðŸ˜›',
  ':/': 'ðŸ˜•',
  ':\'(': 'ðŸ˜¢',
  '>:(': 'ðŸ˜ ',
  ':|': 'ðŸ˜',
  ':-)': 'ðŸ™‚',
  ':-(': 'ðŸ™',
  ':-D': 'ðŸ˜„',
  ':x': 'ðŸ˜Ž',

  '#0': 'Za Inci Biserku Od *__X__*ðŸ˜Ž',
  '#1': 'Dragi gosti, vaÅ¡e primedbe moÅ¾ete prijaviti upravi Galaksije na broj +511 545 856 957 565 956 354 785 968 652 624',
  '#2': 'â¤ðŸ§¡ðŸ’›ðŸ’šðŸ’™ðŸ’œðŸ¤ŽðŸ–¤ðŸ’–ðŸ’—ðŸ’“ðŸ¤',
  '#3': 'ðŸ’‹ðŸ’‹ðŸ’‹ðŸ’‹ðŸ’‹ðŸ’‹ðŸ’‹',
  '#4': '#n jasaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',
  '#5': 'opaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa #n',
  '#6': 'ajmo romalen te kela em te gilava',
  '#7': 'hey sefe koj ti je vrag??????????',
  '#8': 'svega ovoga ne bi bilo da je Pera otiÅ¡ao pravo u policiju',
  '#9': 'Musketari Galaksije - svi za jednog, jedan za sve',
  '#a': 'Ko je vas poznavao, ni pakao mu neÄ‡e teÅ¡ko pasti',
  'a1': 'Prevari me jednom â€“ sram te bilo, prevari me dva puta â€“ sram mene bilo.',
  'a2': 'Biti potpuno iskren prema sebi je dobra veÅ¾ba.',
  'a3': 'Ne trÄite za Å¾enama da se ne sudarite sa onima koji od njih beÅ¾e.',
  'a4': 'ProdavaÄica je bila toliko lepa da je bilo smeÅ¡no njeno pitanje: "Å ta Å¾elite?"',

  '#iva': 'ðŸŽ¶ðŸŽ¶ðŸŽ¶ðŸŽ¶ðŸŽµðŸŽ¶ðŸŽ¶ðŸŽµ',
  '#dia': 'ðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž',
  '#x': 'Pesma za sve goste u Galaksiji od cika X-a ',
  '#g': () => new Date().toLocaleTimeString(),
  '#u': () => `Online: ${document.getElementById('current-users')?.textContent.replace(/\D/g,'')||0}, Ukupno: ${document.getElementById('total-users')?.textContent.replace(/\D/g,'')||0}`,
  '#dg': '#n Dobro Dosli, Sa Vama Je Dj Dia ',
  '#ha': 'Hulijaâ¤ï¸Ates'
};


// 2. Tursko â†’ Srpski mapa (bez znakova)
const turSrMap = {
  'merhaba': 'zdravo',
  'nasilsin': 'kako si',
  'tesekkur ederim': 'hvala',
  'evet': 'da',
  'hayir': 'ne',
  'gunaydin': 'dobro jutro',
  'muzik DJ olabilir mi': 'moze pesma dj',
  'nereden geliyorsun': 'odakle si',
  'ben kisaca bilgisayardayim': 'nisam kratko na pc',
  'simdi geliyorum': 'sad cu ja',
  'neredesin': 'gde si',
  'tabii, yaz': 'naravno, pisi',
  'tamam': 'ok',
  'olacak': 'bice',
  'selam': 'cao',
  'iyi aksamlar': 'dobro vece',
  'iyi geceler': 'laku noc',
  'gule gule': 'dovidjenja',
  'tesekkurler': 'hvala',
  'sag ol': 'fala',
  'ne yapiyorsun': 'sta radis',
  'napiyorsun': 'sta radis',
  'iyi misin': 'jesi dobro',
  'nasil gidiyor': 'kako ide',
  'harika': 'odlicno',
  'iyi': 'dobro',
  'kotu': 'lose',
  'belki': 'mozda',
  'neden': 'zasto',
  'kim': 'ko',
  'ne': 'sta',
  'nerede': 'gde',
  'nasil': 'kako',
  'ne zaman': 'kada',
  'ev': 'kuca',
  'okul': 'skola',
  'is': 'posao',
  'para': 'pare',
  'arkadas': 'drug',
  'kardes': 'brat sestra',
  'baba': 'otac',
  'anne': 'majka',
  'hala': 'tetka',
  'amca': 'stric',
  'dayi': 'ujak',
  'yenge': 'snajka',
  'abi': 'brate',
  'abla': 'sestro',
  'kanka': 'brate druze',
  'dostum': 'brate',
  'yavas': 'polako',
  'hizli': 'brzo',
  'sus': 'cuti',
  'cabuk': 'pozuri',
  'bekle': 'cekaj',
  'gel': 'dodji',
  'git': 'idi',
  'buraya': 'ovamo',
  'orada': 'tamo',
  'burasÄ±': 'ovde',
  'surasÄ±': 'eto tu',
  'tehlike': 'opasnost',
  'yardim': 'pomoc',
  'polis': 'policija',
  'hastane': 'bolnica',
  'doktor': 'doktor',
  'ilac': 'lek',
  'yemek': 'hrana',
  'su': 'voda',
  'kahve': 'kafa',
  'cay': 'caj',
  'sigara': 'cigareta',
  'nargile': 'nargila',
  'baska': 'drugo',
  'hepsi': 'sve',
  'biraz': 'malo',
  'cok': 'puno',
  'az': 'malo',
  'buyuk': 'veliko',
  'kucuk': 'malo',
  'genc': 'mlad',
  'yasli': 'star',
  'guzel': 'lepo',
  'cirkin': 'ruzno',
  'tatli': 'slatko',
  'aci': 'ljuto',
  'tuzlu': 'slano',
  'soguk': 'hladno',
  'sicak': 'vruce',
  'hava': 'vreme',
  'yagmur': 'kisa',
  'kar': 'sneg',
  'gunes': 'sunce',
  'bulut': 'oblak',
  'ruzgar': 'vetar',
  'firtina': 'oluja',
  'kral': 'kralj',
  'kralice': 'kraljica',
  'tamamdir': 'moze',
  'dikkat': 'pazi',
  'bence': 'po meni',
  'tabiki': 'naravno',
  'hemen': 'odmah',
  'saka': 'sala',
  'gercek': 'stvarno',
  'ciddi': 'ozbiljno',
  'korkunc': 'strasno',
  'sakin': 'mirno',
  'sinirli': 'besan',
  'mutlu': 'srecan',
  'uzgun': 'tuzan',
  'yorgun': 'umoran',
  'ac': 'gladan',
  'tok': 'sit',
  'elveda': 'zbogom',
  'ozur': 'izvini',
  'affedersin': 'izvini',
  'ozledim': 'nedostajes',
  'seviyorum': 'volim te',
  'sevmiyorum': 'ne volim',
  'gec kaldim': 'kasnim',
  'tamam mi': 'moze li',
  'hadi': 'ajte',
  'kolay gelsin': 'srecno',
  'iyi sanslar': 'srecno',
  'bosver': 'nebitno',
  'ne haber': 'sta ima',
  'zaten': 'ionako',
  'belki sonra': 'mozda posle',
  'daha sonra': 'kasnije',
  'simdi': 'sad',
  'sonra': 'posle',
  'bugun': 'danas',
  'yarin': 'sutra',
  'dun': 'juce',
  'hafta': 'nedelja',
  'ay': 'mesec',
  'yil': 'godina',
  'dakika': 'minut',
  'saniye': 'sekunda',
  'mesaj': 'poruka',
  'resim': 'slika',
  'video': 'video',
  'muzik': 'muzika',
  'oyun': 'igra',
  'oyuncu': 'igrac',
  'yeniden': 'ponovo',
  'tamir': 'popravka',
  'dur': 'stani',
  'devam': 'nastavi',
  'basla': 'kreni',
  'bitir': 'zavrsi',
  'lutfen': 'molim te',
  'rica ederim': 'nema na cemu',
  'kusura bakma': 'izvini',
  'uzgunum': 'zao mi je',
  'harbi': 'ozbiljno',
  'vallahi': 'majke mi',
  'bakar misin': 'mozes pogledati',
  'cik': 'izadji',
  'gir': 'udji',
  'bitti': 'gotovo',
  'devam et': 'nastavi',
  'sakin ol': 'smiri se',
  'acele etme': 'ne zuri',
  'yakinda': 'uskoro',
  'uzakta': 'daleko',
  'yakin': 'blizu',
  'birlikte': 'zajedno',
  'ayri': 'odvojeno',
  'yapma': 'nemoj',
  'yap': 'uradi',
  'deneme': 'test',
  'basarili': 'uspesno',
  'basarisiz': 'neuspesno',
 'calisiyorum': 'radim',
  'uyuyorum': 'spavam',
  'uyandim': 'probudio sam se',
  'bekar': 'samac',
  'evliyim': 'ozenjen',
  'acilim': 'otvoren sam',
  'kapali': 'zatvoreno',
  'pahali': 'skupo',
  'ucuz': 'jeftino',
  'hediye': 'poklon',
  'kargo': 'dostava',
  'hediye paketi': 'poklon paket',
  'koskoca': 'ogromno',
  'cuzdan': 'novcanik',
  'hediye karti': 'poklon kartica',
  'bugune kadar': 'do danas',
  'sil': 'obrisi',
  'yukle': 'uploaduj',
  'indir': 'skini',
  'kaydet': 'sacuvaj',
  'hesap': 'nalog',
  'sohbet': 'chat',
  'etiket': 'tag',
  'yorum': 'komentar',
  'paylas': 'podeli',
  'begen': 'lajkuj',
  'ara': 'zovi',
  'cevapla': 'odgovori',
  'salla': 'preskoci',
  'incele': 'proveri',
  'goster': 'pokazi',
  'yolla': 'posalji',
  'don': 'vrati se',
  'kucakla': 'zagrli',
  'sahne': 'scena',
  'taklit': 'imitacija',
  'giris': 'login',
  'cikis': 'logout',
  'yukleme hatasi': 'greska u uploadu',
  'baglanti': 'veza',
  'kopuk': 'prekinuto',
  'sunucu': 'server',
  'gecikme': 'lag',
  'ses': 'zvuk',
  'kulaklik': 'sluÅ¡alice',
  'klavye': 'tastatura',
  'fare': 'misl',
  'masaustu': 'desktop',
  'dizustu': 'laptop',
  'yenile': 'refresh',
  'goruntu': 'slika',
  'sukran': 'hvala ti puno',
  'hayran': 'fan',
  'yuzuk': 'prsten',
  'anahtar': 'kljuc',
  'sanat': 'umetnost',
  'sanatci': 'umetnik',
  'bilet': 'karta',
  'koltuk': 'sediste',
  'faiz': 'kamatÐ°',
 'borc': 'dug',
  'firsat': 'prilika',
  'ozel': 'privatno',
  'genel': 'javno',
  'kural': 'pravilo',
  'yasak': 'zabranjeno',
  'serbest': 'dozvoljeno',
  'temel': 'osnovno',
  'ayip': 'sramota',
  'gurur': 'ponos',
  'dusman': 'neprijatelj',
  'arkaplan': 'pozadina',
  'hareket': 'pokret',
  'sifreli': 'sifrovano',
  'kilitli': 'zakljucano',
  'ozellik': 'feature',
  'guncelle': 'update',
  'yama': 'patch',
  'hile': 'cheat',
  'yasakli': 'banovano',
  'kayit': 'registracija',
  'buton': 'dugme',
  'cevrem': 'okolina',
  'oylama': 'glasanje',
  'kazan': 'pobedi',
  'kaybet': 'izgubi',
  'final': 'kraj',
  'destek': 'support',
  'sikayet': 'prijava',
  'rapor': 'report',
  'gotur': 'odnesi',
  'dagit': 'raspodeli',
  'birak': 'ostavi',
  'al': 'uzmi',
  'kir': 'slomi',
  'tamir et': 'popravi',
  'tasi': 'premesti',
  'kayboldu': 'nestalo',
  'bul': 'nadji',
  'kes': 'iseÄ‡i',
  'kopyala': 'kopiraj',
  'yapistir': 'nalepi',
  'silindi': 'obrisano',
  'kapat': 'zatvori',
  'ac': 'otvori',
  'kaldir': 'ukloni',
  'tak': 'prikljuci',
  'cikar': 'iskljuci'
};

// 3. Srpsko â†’ Turski mapa (obrnuto)
const srTurMap = {};
for (const key in turSrMap) {
  srTurMap[turSrMap[key]] = key;
}

// 4. Regexovi
const turSrRegex = new RegExp(Object.keys(turSrMap).map(k => k.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')).join('|'), 'g');
const srTurRegex = new RegExp(Object.keys(srTurMap).map(k => k.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')).join('|'), 'g');

// 5. Dugmad i aktivacija
let tsTranslateActive = false;
let stTranslateActive = false;

document.addEventListener('DOMContentLoaded', () => {
  const tsButton = document.getElementById('ts');
  const stButton = document.getElementById('st');

  if(tsButton){
    tsButton.onclick = () => {
      tsTranslateActive = !tsTranslateActive;
      tsButton.style.backgroundColor = tsTranslateActive ? 'rgba(255,255,255,0.05)' : '';
    };
  }

  if(stButton){
    stButton.onclick = () => {
      stTranslateActive = !stTranslateActive;
      stButton.style.backgroundColor = stTranslateActive ? 'rgba(255,255,255,0.05)' : '';
    };
  }
});

function replaceTextEmoji(msg){
  // 1ï¸âƒ£ Emoji + svi simboli iz textEmojiMap koji ne zavise od granica reÄi
  for(const key in textEmojiMap){
    // Ako je kod â€œdugâ€ i moÅ¾e biti deo reÄi (#0, a4...), zamenjujemo sa granicom reÄi
    if(/^#|\w\d+$/.test(key)){  // liÄni kodovi
      const regex = new RegExp(`(^|\\s)${key}($|\\s)`, 'g');
      msg = msg.replace(regex, `$1${textEmojiMap[key]}$2`);
    } else {
      // ostali (emoji, simboli, Unicode) - mogu unutar reÄi
      msg = msg.replaceAll(key, textEmojiMap[key]);
    }
  }

  // 2ï¸âƒ£ TS prevod
  if(tsTranslateActive){
    msg = msg.replace(turSrRegex, match => turSrMap[match]);
  }

  // 3ï¸âƒ£ ST prevod
  if(stTranslateActive){
    msg = msg.replace(srTurRegex, match => srTurMap[match]);
  }

  return msg;
}
